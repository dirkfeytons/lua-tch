<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Technicolor Lua Modules Documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>lua-tch</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/tch.crypto.html">tch.crypto</a></li>
  <li><a href="../modules/tch.inet.html">tch.inet</a></li>
  <li><strong>tch.netlink</strong></li>
  <li><a href="../modules/tch.posix.html">tch.posix</a></li>
  <li><a href="../modules/tch.profiling.html">tch.profiling</a></li>
  <li><a href="../modules/tch.socket.evloop.html">tch.socket.evloop</a></li>
  <li><a href="../modules/tch.socket.unix.html">tch.socket.unix</a></li>
  <li><a href="../modules/tch.tableprint.html">tch.tableprint</a></li>
  <li><a href="../modules/tch.timerfd.html">tch.timerfd</a></li>
  <li><a href="../modules/tch.uuid.html">tch.uuid</a></li>
  <li><a href="../modules/tch.xpcall.html">tch.xpcall</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>tch.netlink</code></h1>
<p>Binding to receive netlink messages from the kernel.</p>
<p> This module registers a lua callback function that will be called
 on interface state changes broadcast from the kernel via netlink.
 The module uses the uloop event loop to process the activity on
 the netlink socket.</p>
    <h3>Usage:</h3>
    <ul>
        <pre class="example">local uloop = require(&quot;uloop&quot;)
local netlink=require(&quot;tch.netlink&quot;)
local nl,err = netlink.listen(function(dev,state) ... end)

local netlink.remove_neigh(&quot;192.168.1.254&quot;, &quot;48:51:21:18:fd:8d&quot;, &quot;eth0&quot;)

...
uloop.run()
</pre>
    </ul>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#listen">listen(cb)</a></td>
	<td class="summary">Create a new netlink object.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#remove_neigh">remove_neigh(ip, mac, dev)</a></td>
	<td class="summary">Remove the neighbour entry.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "listen"></a>
    <strong>listen(cb)</strong>
    </dt>
    <dd>
    Create a new netlink object.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">cb</span>
         callback function(dev,state) called with device name and state
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">netlink</span></span>
        The newly created object.
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
           <span class="types"><span class="type">nil</span></span>


</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "remove_neigh"></a>
    <strong>remove_neigh(ip, mac, dev)</strong>
    </dt>
    <dd>
    Remove the neighbour entry.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">ip</span>
         the IP address of the neighbour
        </li>
        <li><span class="parameter">mac</span>
         the MAC address of the neighbour
        </li>
        <li><span class="parameter">dev</span>
         the interface where the neighbour was discovered
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">boolean</span></span>
        true
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
           <span class="types"><span class="type">nil</span></span>


</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.5</a></i>
<i style="float:right;">Last updated 2016-10-27 16:24:06 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
